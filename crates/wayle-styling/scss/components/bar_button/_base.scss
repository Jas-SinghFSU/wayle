// Base bar button styles shared by all variants.

.bar-item {
    opacity: var(--bar-button-opacity);
}

menubutton.bar-button {
    all: unset;

    > button.toggle {
        all: unset;
        background-color: color-mix(
            in srgb,
            var(--bar-btn-bg) var(--bar-button-bg-opacity),
            transparent
        );
        border-radius: var(--bar-button-rounding-element);
    }

    &:hover > button.toggle {
        filter: brightness(1.15);
    }

    &:checked > button.toggle {
        filter: brightness(0.95);
    }

    &:focus-visible > button.toggle {
        outline: var(--focus-ring-width) solid var(--fg-muted);
        outline-offset: calc(0.125rem * var(--bar-scale));
    }

    .bar-button-label {
        color: var(--bar-btn-label-color);
        font-size: var(--bar-btn-label-size);
        font-weight: var(--bar-btn-label-weight);
    }

    image {
        all: unset;
        color: var(--bar-btn-icon-color);
        -gtk-icon-size: var(--bar-btn-icon-size);
    }

    // Basic variant: padding on content box, gap as margin on label
    &.basic .bar-button-content {
        margin: var(--bar-btn-label-padding);
    }

    &.basic .bar-button-label {
        margin-left: var(--bar-btn-gap);
    }

    &.basic.label-only .bar-button-label {
        margin-left: 0;
    }

    &.basic.vertical .bar-button-label {
        margin-left: 0;
        margin-top: var(--bar-btn-gap);
    }

    &.basic.vertical.label-only .bar-button-label {
        margin-top: 0;
    }

    // Icon-end: icon after label (swap margin to opposite side)
    &.basic.icon-end .bar-button-label {
        margin-left: 0;
        margin-right: var(--bar-btn-gap);
    }

    &.basic.icon-end.label-only .bar-button-label {
        margin-right: 0;
    }

    &.basic.icon-end.vertical .bar-button-label {
        margin-right: 0;
        margin-top: 0;
        margin-bottom: var(--bar-btn-gap);
    }

    &.basic.icon-end.vertical.label-only .bar-button-label {
        margin-bottom: 0;
    }
}
