// BlockPrefix variant: Icon in colored container bleeding to button edge.
// button.toggle has label background, icon-container overlays with icon background.
// Both icon-container and label-container use vexpand+valign:Fill in Rust to match heights.

menubutton.bar-button.block-prefix {
    .bar-button-content {
        all: unset;
    }

    .icon-container {
        background-color: var(--bar-btn-icon-bg);
        border-top-left-radius: var(--bar-button-rounding-element);
        border-bottom-left-radius: var(--bar-button-rounding-element);
    }


    .icon-container image {
        color: var(--bar-btn-icon-color);
        margin: var(--bar-btn-icon-padding);
    }

    .label-container {
        margin: var(--bar-btn-label-padding);
    }

    .bar-button-label {
        color: var(--bar-btn-label-color);
    }

    &.vertical .icon-container {
        border-radius: 0;
        border-top-left-radius: var(--bar-button-rounding-element);
        border-top-right-radius: var(--bar-button-rounding-element);
    }

    &.icon-end .icon-container {
        border-radius: 0;
        border-top-right-radius: var(--bar-button-rounding-element);
        border-bottom-right-radius: var(--bar-button-rounding-element);
    }

    &.icon-end.vertical .icon-container {
        border-radius: 0;
        border-bottom-left-radius: var(--bar-button-rounding-element);
        border-bottom-right-radius: var(--bar-button-rounding-element);
    }

    &.icon-only .icon-container {
        border-radius: var(--bar-button-rounding-element);
    }

    > button.toggle:hover .icon-container {
        filter: brightness(1.1);
    }
}
